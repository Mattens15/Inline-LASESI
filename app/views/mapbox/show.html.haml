
- provide(:title, "Find the nearest room");

.container

  
  #map{:style=>'width: 100%; height: 300px; margin-top: 1%;'}
  .row{:style => 'text-align: center;'}

    .col-4
      %label
        Insert your radius:
      %input.form-control{:type => 'number', :step => '0.1', :id => 'radius', :value => '', :placeholder => 'Insert your radius...', :value => '5', :min => '0.1'}
    .col-xl-4.col-lg-4.col-md-4.col-sm-12.col-xs-12
      %label
        Find location: 
      .row
        .col-xl-10.col-lg-10.col-md-10.col-sm-10.col-xs-10.col-10#geocoder
        .col-xl-2.col-lg-2.col-md-2.col-sm-2.col-xs-2.col-2#geolocate.my-auto
    .col-xl-4.col-lg-4.col-md-4.col-sm-12.col-xs-12
      =label_tag 'Search room!'
      .row
        .col-xl-12.col-lg-12.col-md-12.col-sm-12.col-xs-12
          %input.form-control#searchbyname_form{:type => 'text-field'}
    
  %br
  .container-fluid.header.text-center
    %h5#num_rooms
  .container-fluid#listings
  :javascript

    var protocol = window.location.protocol;
    var hostname = window.location.hostname;
    var port     = window.location.port;
    var url = protocol+'//'+hostname+':'+port+'/dashboard.json'
    $(document).ready(function(){
      $('#geocoder').empty();
      $('#geolocate').empty();
      $('#map').empty();
      render_map(buildObjectForMap(url), 0);
    });
		
